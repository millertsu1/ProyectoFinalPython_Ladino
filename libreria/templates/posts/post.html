{% extends 'base.html' %}
{% load static %}

{% block content %}
{% load crispy_forms_tags %}

<style type="text/css">
	img{
		max-width: 100%;
		object-fit: cover;
	}

	.featured_image{
		margin-top: 20px;
		margin-bottom: 20px;
	}

	.post-container{
			width: 900px;
			margin: 0 auto;
			padding-top: 20px;
			padding-bottom: 20px;
	}

	.comments-wrapper{
		margin-top: 50px;
		padding: 10px;
		border:1px solid var(--borderColor);
		-webkit-box-shadow: -1px 1px 3px -1px rgba(0,0,0,0.75);
		-moz-box-shadow: -1px 1px 3px -1px rgba(0,0,0,0.75);
		box-shadow: -1px 1px 3px -1px rgba(0,0,0,0.75);
	}

	.comment{
		display: flex;
		padding: 15px;
	}

	.comment-author{
		font-size: 14px;
		font-weight: 700;
		color: rgb(30, 174, 219) !important;
		margin: 2px;
	}

	.author-pic{
		width: 50px;
		height: 50px;
		border-radius: 50%;
		margin-right: 10px;
	}

	.comment-body{

		font-size: 14px;
	}

	@media screen and (max-width: 900px){
		.post-container{
			width: 95%;
		}
	}
</style>

<div class="post-container">

	<img class="featured_image" src="{{post.image.url}}" style="border-radius: 7px;">
	<br>
	<h1 class="card-title" style=" margin-bottom: 20px;">{{post.title}}</h1>
    <small>Tags: </small>

	{% for tag in post.tags.all %}
		<span class="tag" style="background-color: #A78295 ; color:#000; padding:5px 2px; border-radius: 5px;margin: 5px;"> {{tag}} </span>
	{% endfor %}
	<div style=" margin-top: 20px;"><small>Author: {{post.author}}</small></div>
	<hr>
	<p>{{post.body|safe| slice:"100"}}</p>

	<a href="{%  url 'home' %}" class="btn btn-primary">Return to Home</a>
	<hr>
<div>
	<form method="POST">
		{% csrf_token %}
		{{ form | crispy }}
		<input type="submit" name='enviar' value="Send Comment">
	</form>

	<h2>comments: </h2>
	{% for comment in comments%}
	<p>{{comment.author}}{{comment.content}}</p>
	{% endfor %}

</div>

</div>

{% endblock content %}